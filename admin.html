<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Management Console | Samansiri Group</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #27ae60; --secondary: #2980b9; --dark: #1a1a2e; }
        body { font-family: 'Poppins', sans-serif; background: #f4f7f6; margin: 0; display: flex; }
        .sidebar { width: 260px; background: var(--dark); height: 100vh; color: white; padding: 30px 20px; position: fixed; }
        .sidebar h2 { color: var(--primary); font-weight: 800; margin-bottom: 40px; }
        .nav-item { padding: 15px; cursor: pointer; border-radius: 12px; transition: 0.3s; margin-bottom: 10px; display: flex; align-items: center; gap: 15px; }
        .nav-item.active { background: var(--primary); box-shadow: 0 4px 15px rgba(39, 174, 96, 0.4); }
        .main { margin-left: 280px; padding: 40px; width: 100%; }
        .card { background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); margin-bottom: 30px; }
        input, select { padding: 12px; border: 1px solid #ddd; border-radius: 10px; margin-right: 10px; }
        .btn-add { background: var(--primary); color: white; border: none; padding: 12px 25px; border-radius: 10px; cursor: pointer; font-weight: 600; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { text-align: left; padding: 15px; border-bottom: 1px solid #eee; }
    </style>
</head>
<body>
    <div class="sidebar">
        <h2>SAMANSIRI</h2>
        <div class="nav-item active" onclick="showTab('veg')"><i class="fas fa-carrot"></i> Inventory</div>
        <div class="nav-item" onclick="showTab('trans')"><i class="fas fa-calendar-check"></i> Fleet</div>
        <a href="index.html" class="nav-item" style="text-decoration:none; color:white; margin-top:50px"><i class="fas fa-eye"></i> View Site</a>
    </div>

    <div class="main">
        <div id="veg-tab" class="tab-content">
            <h1>Update Vegetable Prices</h1>
            <div class="card">
                <input type="text" id="vName" placeholder="Item Name">
                <input type="number" id="vPrice" placeholder="Price (Rs.)">
                <select id="vTrend">
                    <option value="stable">Stable</option>
                    <option value="up">Price Up ↑</option>
                    <option value="down">Price Down ↓</option>
                </select>
                <button class="btn-add" onclick="addItem()">Update Price</button>
            </div>
            <div class="card"><table id="vTable"><thead><tr><th>Product</th><th>Price</th><th>Trend</th><th>Action</th></tr></thead><tbody id="vList"></tbody></table></div>
        </div>

        <div id="trans-tab" class="tab-content" style="display:none;">
            <h1>Fleet Booking Manager</h1>
            <div class="card">
                <input type="date" id="hDate">
                <input type="text" id="hDesc" placeholder="Route/Hire Details">
                <button class="btn-add" onclick="addHire()" style="background:var(--secondary)">Mark Booked</button>
            </div>
            <div class="card"><table id="hTable"><thead><tr><th>Date</th><th>Detail</th><th>Status</th><th>Action</th></tr></thead><tbody id="hList"></tbody></table></div>
        </div>
    </div>

    <script>
        function showTab(t){
            document.querySelectorAll('.tab-content').forEach(el=>el.style.display='none');
            document.querySelectorAll('.nav-item').forEach(el=>el.classList.remove('active'));
            document.getElementById(t+'-tab').style.display='block';
            event.currentTarget.classList.add('active');
        }

        function addItem(){
            let n = document.getElementById('vName').value, p = document.getElementById('vPrice').value, t = document.getElementById('vTrend').value;
            if(!n || !p) return;
            let items = JSON.parse(localStorage.getItem('vegData') || '[]');
            items.push({n, p, t});
            localStorage.setItem('vegData', JSON.stringify(items));
            render();
        }

        function addHire(){
            let d = document.getElementById('hDate').value, ds = document.getElementById('hDesc').value;
            if(!d || !ds) return;
            let hires = JSON.parse(localStorage.getItem('hireData') || '[]');
            hires.push({d, ds});
            localStorage.setItem('hireData', JSON.stringify(hires));
            render();
        }

        function remove(idx, key){
            let data = JSON.parse(localStorage.getItem(key));
            data.splice(idx,1);
            localStorage.setItem(key, JSON.stringify(data));
            render();
        }

        function render(){
            let v = JSON.parse(localStorage.getItem('vegData') || '[]');
            document.getElementById('vList').innerHTML = v.map((item, i) => `<tr><td>${item.n}</td><td>Rs. ${item.p}</td><td>${item.t}</td><td><i class="fas fa-trash" style="color:red; cursor:pointer" onclick="remove(${i},'vegData')"></i></td></tr>`).join('');
            let h = JSON.parse(localStorage.getItem('hireData') || '[]');
            document.getElementById('hList').innerHTML = h.map((item, i) => `<tr><td>${item.d}</td><td>${item.ds}</td><td>BOOKED</td><td><i class="fas fa-trash" style="color:red; cursor:pointer" onclick="remove(${i},'hireData')"></i></td></tr>`).join('');
        }
        render();
    </script>
</body>
</html>